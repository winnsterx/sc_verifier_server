{"abi":[{"type":"constructor","inputs":[{"name":"_target","type":"address","internalType":"address"}],"stateMutability":"nonpayable"},{"type":"function","name":"breakCarousel","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"exploit","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"makeCratePointToItself","inputs":[{"name":"crateId","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"target","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract MagicAnimalCarousel"}],"stateMutability":"view"}],"bytecode":{"object":"0x6080604052348015600e575f5ffd5b5060405161077c38038061077c833981016040819052602b91604e565b5f80546001600160a01b0319166001600160a01b03929092169190911790556079565b5f60208284031215605d575f5ffd5b81516001600160a01b03811681146072575f5ffd5b9392505050565b6106f6806100865f395ff3fe608060405234801561000f575f5ffd5b506004361061004a575f3560e01c806332c35c0b1461004e57806363d9b77014610063578063a6ac6f001461006b578063d4b8399214610073575b5f5ffd5b61006161005c366004610601565b6100a1565b005b6100616101b3565b610061610403565b5f54610085906001600160a01b031681565b6040516001600160a01b03909116815260200160405180910390f35b60408051600c8082528183019092525f91602082018180368337019050509050600882901c60f81b815f815181106100db576100db610618565b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff191690815f1a9053508160ff1660f81b8160018151811061012357610123610618565b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff191690815f1a9053505f546040516324c8a27360e21b81526001600160a01b039091169063932289cc906101829084908690600401610688565b5f604051808303815f87803b158015610199575f5ffd5b505af11580156101ab573d5f5f3e3d5ffd5b505050505050565b5f54604051632acee48960e21b81526001600160a01b039091169063ab3b9224906102129060040160208082526004908201527f7465737400000000000000000000000000000000000000000000000000000000604082015260600190565b5f604051808303815f87803b158015610229575f5ffd5b505af115801561023b573d5f5f3e3d5ffd5b5050604080518082018252600b81525f602082018190525491516324c8a27360e21b81529093506001600160a01b03909116915063932289cc90610286908490600190600401610688565b5f604051808303815f87803b15801561029d575f5ffd5b505af11580156102af573d5f5f3e3d5ffd5b50505f54604051632acee48960e21b81526001600160a01b03909116925063ab3b922491506103129060040160208082526004908201527f6c6f6f7000000000000000000000000000000000000000000000000000000000604082015260600190565b5f604051808303815f87803b158015610329575f5ffd5b505af115801561033b573d5f5f3e3d5ffd5b505050505f5f5f9054906101000a90046001600160a01b03166001600160a01b03166326bad99e6040518163ffffffff1660e01b8152600401602060405180830381865afa15801561038f573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906103b391906106a9565b9050805f036103ff575f8054604080518082018252600b81526020810184905290516324c8a27360e21b81526001600160a01b039092169263932289cc92610182929190600401610688565b5050565b5f5f9054906101000a90046001600160a01b03166001600160a01b03166326bad99e6040518163ffffffff1660e01b8152600401602060405180830381865afa158015610452573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061047691906106a9565b15610508575f54604051632acee48960e21b81526001600160a01b039091169063ab3b9224906104da9060040160208082526004908201527f6d6f766500000000000000000000000000000000000000000000000000000000604082015260600190565b5f604051808303815f87803b1580156104f1575f5ffd5b505af1158015610503573d5f5f3e3d5ffd5b505050505b604080518082018252600c81525f60208201819052805492516324c8a27360e21b815291926001600160a01b03169163932289cc9161054c91859190600401610688565b5f604051808303815f87803b158015610563575f5ffd5b505af1158015610575573d5f5f3e3d5ffd5b50505f54604051632acee48960e21b815260206004820152600560248201527f737475636b00000000000000000000000000000000000000000000000000000060448201526001600160a01b03909116925063ab3b922491506064015f604051808303815f87803b1580156105e8575f5ffd5b505af11580156105fa573d5f5f3e3d5ffd5b5050505050565b5f60208284031215610611575f5ffd5b5035919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52603260045260245ffd5b5f81518084525f5b818110156106695760208185018101518683018201520161064d565b505f602082860101526020601f19601f83011685010191505092915050565b604081525f61069a6040830185610645565b90508260208301529392505050565b5f602082840312156106b9575f5ffd5b505191905056fea264697066735822122006cae9bd1c05696ae7d5ef096dace3a35032e562e7a263b771f77c50784f04c164736f6c634300081c0033","sourceMap":"103:2541:0:-:0;;;179:83;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;218:6;:37;;-1:-1:-1;;;;;;218:37:0;-1:-1:-1;;;;;218:37:0;;;;;;;;;;103:2541;;14:290:2;84:6;137:2;125:9;116:7;112:23;108:32;105:52;;;153:1;150;143:12;105:52;179:16;;-1:-1:-1;;;;;224:31:2;;214:42;;204:70;;270:1;267;260:12;204:70;293:5;14:290;-1:-1:-1;;;14:290:2:o;:::-;103:2541:0;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x608060405234801561000f575f5ffd5b506004361061004a575f3560e01c806332c35c0b1461004e57806363d9b77014610063578063a6ac6f001461006b578063d4b8399214610073575b5f5ffd5b61006161005c366004610601565b6100a1565b005b6100616101b3565b610061610403565b5f54610085906001600160a01b031681565b6040516001600160a01b03909116815260200160405180910390f35b60408051600c8082528183019092525f91602082018180368337019050509050600882901c60f81b815f815181106100db576100db610618565b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff191690815f1a9053508160ff1660f81b8160018151811061012357610123610618565b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff191690815f1a9053505f546040516324c8a27360e21b81526001600160a01b039091169063932289cc906101829084908690600401610688565b5f604051808303815f87803b158015610199575f5ffd5b505af11580156101ab573d5f5f3e3d5ffd5b505050505050565b5f54604051632acee48960e21b81526001600160a01b039091169063ab3b9224906102129060040160208082526004908201527f7465737400000000000000000000000000000000000000000000000000000000604082015260600190565b5f604051808303815f87803b158015610229575f5ffd5b505af115801561023b573d5f5f3e3d5ffd5b5050604080518082018252600b81525f602082018190525491516324c8a27360e21b81529093506001600160a01b03909116915063932289cc90610286908490600190600401610688565b5f604051808303815f87803b15801561029d575f5ffd5b505af11580156102af573d5f5f3e3d5ffd5b50505f54604051632acee48960e21b81526001600160a01b03909116925063ab3b922491506103129060040160208082526004908201527f6c6f6f7000000000000000000000000000000000000000000000000000000000604082015260600190565b5f604051808303815f87803b158015610329575f5ffd5b505af115801561033b573d5f5f3e3d5ffd5b505050505f5f5f9054906101000a90046001600160a01b03166001600160a01b03166326bad99e6040518163ffffffff1660e01b8152600401602060405180830381865afa15801561038f573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906103b391906106a9565b9050805f036103ff575f8054604080518082018252600b81526020810184905290516324c8a27360e21b81526001600160a01b039092169263932289cc92610182929190600401610688565b5050565b5f5f9054906101000a90046001600160a01b03166001600160a01b03166326bad99e6040518163ffffffff1660e01b8152600401602060405180830381865afa158015610452573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061047691906106a9565b15610508575f54604051632acee48960e21b81526001600160a01b039091169063ab3b9224906104da9060040160208082526004908201527f6d6f766500000000000000000000000000000000000000000000000000000000604082015260600190565b5f604051808303815f87803b1580156104f1575f5ffd5b505af1158015610503573d5f5f3e3d5ffd5b505050505b604080518082018252600c81525f60208201819052805492516324c8a27360e21b815291926001600160a01b03169163932289cc9161054c91859190600401610688565b5f604051808303815f87803b158015610563575f5ffd5b505af1158015610575573d5f5f3e3d5ffd5b50505f54604051632acee48960e21b815260206004820152600560248201527f737475636b00000000000000000000000000000000000000000000000000000060448201526001600160a01b03909116925063ab3b922491506064015f604051808303815f87803b1580156105e8575f5ffd5b505af11580156105fa573d5f5f3e3d5ffd5b5050505050565b5f60208284031215610611575f5ffd5b5035919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52603260045260245ffd5b5f81518084525f5b818110156106695760208185018101518683018201520161064d565b505f602082860101526020601f19601f83011685010191505092915050565b604081525f61069a6040830185610645565b90508260208301529392505050565b5f602082840312156106b9575f5ffd5b505191905056fea264697066735822122006cae9bd1c05696ae7d5ef096dace3a35032e562e7a263b771f77c50784f04c164736f6c634300081c0033","sourceMap":"103:2541:0:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1663:386;;;;;;:::i;:::-;;:::i;:::-;;272:1381;;;:::i;2059:583::-;;;:::i;135:33::-;;;;;-1:-1:-1;;;;;135:33:0;;;;;;-1:-1:-1;;;;;390:55:2;;;372:74;;360:2;345:18;135:33:0;;;;;;;1663:386;1838:13;;;1848:2;1838:13;;;;;;;;;1815:20;;1838:13;;;;;;;;;;-1:-1:-1;1838:13:0;1815:36;;1898:1;1887:7;:12;;1874:27;;1861:7;1869:1;1861:10;;;;;;;;:::i;:::-;;;;:40;;;;;;;;;;;1950:7;1960:4;1950:14;1937:29;;1924:7;1932:1;1924:10;;;;;;;;:::i;:::-;;;;:42;;;;;;;;;;-1:-1:-1;1997:6:0;;:45;;-1:-1:-1;;;1997:45:0;;-1:-1:-1;;;;;1997:6:0;;;;:19;;:45;;2024:7;;2034;;1997:45;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1721:328;1663:386;:::o;272:1381::-;518:6;;:31;;-1:-1:-1;;;518:31:0;;-1:-1:-1;;;;;518:6:0;;;;:23;;:31;;;;1738:2:2;1720:21;;;1777:1;1757:18;;;1750:29;1815:6;1810:2;1795:18;;1788:34;1854:2;1839:18;;1536:327;518:31:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;1017:52:0;;;;;;;;;;;:22;:52;;;;;;1079:6;:41;;-1:-1:-1;;;1079:41:0;;1017:52;;-1:-1:-1;;;;;;1079:6:0;;;;-1:-1:-1;1079:19:0;;:41;;1017:52;;1079:6;;:41;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;1246:6:0;;:31;;-1:-1:-1;;;1246:31:0;;-1:-1:-1;;;;;1246:6:0;;;;-1:-1:-1;1246:23:0;;-1:-1:-1;1246:31:0;;;;2374:2:2;2356:21;;;2413:1;2393:18;;;2386:29;2451:6;2446:2;2431:18;;2424:34;2490:2;2475:18;;2172:327;1246:31:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1336:15;1354:6;;;;;;;;;-1:-1:-1;;;;;1354:6:0;-1:-1:-1;;;;;1354:21:0;;:23;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;1336:41;;1391:7;1402:1;1391:12;1387:260;;1577:6;;;1597:35;;;;;;;;;;;;;;;;;1577:59;;-1:-1:-1;;;1577:59:0;;-1:-1:-1;;;;;1577:6:0;;;;:19;;:59;;1597:35;1577:6;:59;;;:::i;1387:260::-;300:1353;;272:1381::o;2059:583::-;2266:6;;;;;;;;;-1:-1:-1;;;;;2266:6:0;-1:-1:-1;;;;;2266:21:0;;:23;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;:28;2262:90;;2310:6;;:31;;-1:-1:-1;;;2310:31:0;;-1:-1:-1;;;;;2310:6:0;;;;:23;;:31;;;;3199:2:2;3181:21;;;3238:1;3218:18;;;3211:29;3276:6;3271:2;3256:18;;3249:34;3315:2;3300:18;;2997:327;2310:31:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2262:90;2430:56;;;;;;;;;;;:24;:56;;;;;;2496:6;;:43;;-1:-1:-1;;;2496:43:0;;2430:56;;-1:-1:-1;;;;;2496:6:0;;:19;;:43;;2430:56;;:24;2496:43;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;2603:6:0;;:32;;-1:-1:-1;;;2603:32:0;;3531:2:2;2603:32:0;;;3513:21:2;3570:1;3550:18;;;3543:29;3608:7;3588:18;;;3581:35;-1:-1:-1;;;;;2603:6:0;;;;-1:-1:-1;2603:23:0;;-1:-1:-1;3633:18:2;;2603:32:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2093:549;2059:583::o;14:180:2:-;73:6;126:2;114:9;105:7;101:23;97:32;94:52;;;142:1;139;132:12;94:52;-1:-1:-1;165:23:2;;14:180;-1:-1:-1;14:180:2:o;646:184::-;698:77;695:1;688:88;795:4;792:1;785:15;819:4;816:1;809:15;835:400;877:3;915:5;909:12;942:6;937:3;930:19;967:1;977:139;991:6;988:1;985:13;977:139;;;1099:4;1084:13;;;1080:24;;1074:31;1054:11;;;1050:22;;1043:63;1006:12;977:139;;;981:3;1161:1;1154:4;1145:6;1140:3;1136:16;1132:27;1125:38;1224:4;1217:2;1213:7;1208:2;1200:6;1196:15;1192:29;1187:3;1183:39;1179:50;1172:57;;;835:400;;;;:::o;1240:291::-;1417:2;1406:9;1399:21;1380:4;1437:45;1478:2;1467:9;1463:18;1455:6;1437:45;:::i;:::-;1429:53;;1518:6;1513:2;1502:9;1498:18;1491:34;1240:291;;;;;:::o;2504:184::-;2574:6;2627:2;2615:9;2606:7;2602:23;2598:32;2595:52;;;2643:1;2640;2633:12;2595:52;-1:-1:-1;2666:16:2;;2504:184;-1:-1:-1;2504:184:2:o","linkReferences":{}},"methodIdentifiers":{"breakCarousel()":"a6ac6f00","exploit()":"63d9b770","makeCratePointToItself(uint256)":"32c35c0b","target()":"d4b83992"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.28+commit.7893614a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_target\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"breakCarousel\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"exploit\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"crateId\",\"type\":\"uint256\"}],\"name\":\"makeCratePointToItself\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"target\",\"outputs\":[{\"internalType\":\"contract MagicAnimalCarousel\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/answers/CarouselExploit2.sol\":\"CarouselExploit2\"},\"evmVersion\":\"shanghai\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":1000},\"remappings\":[\":ds-test/=lib/openzeppelin-contracts-upgradeable/lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":openzeppelin-contracts-06/=lib/openzeppelin-contracts-06/contracts/\",\":openzeppelin-contracts-08/=lib/openzeppelin-contracts-08/contracts/\",\":openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/\",\":openzeppelin-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/\",\":openzeppelin/=lib/openzeppelin-contracts-upgradeable/contracts/\"]},\"sources\":{\"src/answers/CarouselExploit2.sol\":{\"keccak256\":\"0x291e8ddf112e08da2607b2fb8a0527168960b9cfafd35b43995a848b24098b82\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://31d6a91501be5961c5dc2f9c3f2b975e09d72ec9a99b21952e2653dc52457b45\",\"dweb:/ipfs/QmQfgZJdQV5u6YUrxjBEqjPUXujjzvfJfs8S4zKAEtiFGP\"]},\"src/levels/MagicAnimalCarousel.sol\":{\"keccak256\":\"0x58c28159c7ce6ec03a142bd0549658f6cf2a91d5b7d3091c5424f5fa08bdbf94\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://d16e11fb68a69fb4b983280cd627da0047e1b1df217e5b072df9fe6b3b11ce43\",\"dweb:/ipfs/QmdaWoSa9Scw9eKkNTig45MXPdX8Xc1Tq286xYeXPiVnZN\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.28+commit.7893614a"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"_target","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"breakCarousel"},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"exploit"},{"inputs":[{"internalType":"uint256","name":"crateId","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"makeCratePointToItself"},{"inputs":[],"stateMutability":"view","type":"function","name":"target","outputs":[{"internalType":"contract MagicAnimalCarousel","name":"","type":"address"}]}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["ds-test/=lib/openzeppelin-contracts-upgradeable/lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","openzeppelin-contracts-06/=lib/openzeppelin-contracts-06/contracts/","openzeppelin-contracts-08/=lib/openzeppelin-contracts-08/contracts/","openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/","openzeppelin-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/","openzeppelin/=lib/openzeppelin-contracts-upgradeable/contracts/"],"optimizer":{"enabled":true,"runs":1000},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/answers/CarouselExploit2.sol":"CarouselExploit2"},"evmVersion":"shanghai","libraries":{}},"sources":{"src/answers/CarouselExploit2.sol":{"keccak256":"0x291e8ddf112e08da2607b2fb8a0527168960b9cfafd35b43995a848b24098b82","urls":["bzz-raw://31d6a91501be5961c5dc2f9c3f2b975e09d72ec9a99b21952e2653dc52457b45","dweb:/ipfs/QmQfgZJdQV5u6YUrxjBEqjPUXujjzvfJfs8S4zKAEtiFGP"],"license":"MIT"},"src/levels/MagicAnimalCarousel.sol":{"keccak256":"0x58c28159c7ce6ec03a142bd0549658f6cf2a91d5b7d3091c5424f5fa08bdbf94","urls":["bzz-raw://d16e11fb68a69fb4b983280cd627da0047e1b1df217e5b072df9fe6b3b11ce43","dweb:/ipfs/QmdaWoSa9Scw9eKkNTig45MXPdX8Xc1Tq286xYeXPiVnZN"],"license":"MIT"}},"version":1},"id":0}