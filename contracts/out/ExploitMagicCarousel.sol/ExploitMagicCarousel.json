{"abi":[{"type":"constructor","inputs":[{"name":"_target","type":"address","internalType":"address"}],"stateMutability":"nonpayable"},{"type":"function","name":"exploit","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"exploitPrecendenceBug","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"getCurrentCrate","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"readCrate","inputs":[{"name":"id","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"}],"bytecode":{"object":"0x6080604052348015600e575f5ffd5b50604051610451380380610451833981016040819052602b91604e565b5f80546001600160a01b0319166001600160a01b03929092169190911790556079565b5f60208284031215605d575f5ffd5b81516001600160a01b03811681146072575f5ffd5b9392505050565b6103cb806100865f395ff3fe608060405234801561000f575f5ffd5b506004361061004a575f3560e01c806306c539041461004e57806363d9b770146100685780637079f6f214610072578063a95ba7511461007a575b5f5ffd5b61005661008d565b60405190815260200160405180910390f35b610070610106565b005b61007061018d565b6100566100883660046102ef565b610265565b5f5f5f9054906101000a90046001600160a01b03166001600160a01b03166326bad99e6040518163ffffffff1660e01b8152600401602060405180830381865afa1580156100dd573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906101019190610306565b905090565b5f54604051632acee48960e21b815260206004820152600160248201527f410000000000000000000000000000000000000000000000000000000000000060448201526001600160a01b039091169063ab3b9224906064015f604051808303815f87803b158015610175575f5ffd5b505af1158015610187573d5f5f3e3d5ffd5b50505050565b60408051600c8082528183019092525f916020820181803683370190505090505f5b600c8110156102055760ff60f81b8282815181106101cf576101cf61031d565b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff191690815f1a9053506001016101af565b505f54604051632acee48960e21b81526001600160a01b039091169063ab3b92249061023590849060040161034a565b5f604051808303815f87803b15801561024c575f5ffd5b505af115801561025e573d5f5f3e3d5ffd5b5050505050565b5f80546040517f93684bd4000000000000000000000000000000000000000000000000000000008152600481018490526001600160a01b03909116906393684bd490602401602060405180830381865afa1580156102c5573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906102e99190610306565b92915050565b5f602082840312156102ff575f5ffd5b5035919050565b5f60208284031215610316575f5ffd5b5051919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52603260045260245ffd5b602081525f82518060208401525f5b818110156103765760208186018101516040868401015201610359565b505f604082850101526040601f19601f8301168401019150509291505056fea264697066735822122066c29dc71df8ad05289409065eec526a937d2e634d6cc9678a0d609efaa79a7264736f6c634300081c0033","sourceMap":"103:1300:0:-:0;;;176:83;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;215:6;:37;;-1:-1:-1;;;;;;215:37:0;-1:-1:-1;;;;;215:37:0;;;;;;;;;;103:1300;;14:290:2;84:6;137:2;125:9;116:7;112:23;108:32;105:52;;;153:1;150;143:12;105:52;179:16;;-1:-1:-1;;;;;224:31:2;;214:42;;204:70;;270:1;267;260:12;204:70;293:5;14:290;-1:-1:-1;;;14:290:2:o;:::-;103:1300:0;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x608060405234801561000f575f5ffd5b506004361061004a575f3560e01c806306c539041461004e57806363d9b770146100685780637079f6f214610072578063a95ba7511461007a575b5f5ffd5b61005661008d565b60405190815260200160405180910390f35b610070610106565b005b61007061018d565b6100566100883660046102ef565b610265565b5f5f5f9054906101000a90046001600160a01b03166001600160a01b03166326bad99e6040518163ffffffff1660e01b8152600401602060405180830381865afa1580156100dd573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906101019190610306565b905090565b5f54604051632acee48960e21b815260206004820152600160248201527f410000000000000000000000000000000000000000000000000000000000000060448201526001600160a01b039091169063ab3b9224906064015f604051808303815f87803b158015610175575f5ffd5b505af1158015610187573d5f5f3e3d5ffd5b50505050565b60408051600c8082528183019092525f916020820181803683370190505090505f5b600c8110156102055760ff60f81b8282815181106101cf576101cf61031d565b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff191690815f1a9053506001016101af565b505f54604051632acee48960e21b81526001600160a01b039091169063ab3b92249061023590849060040161034a565b5f604051808303815f87803b15801561024c575f5ffd5b505af115801561025e573d5f5f3e3d5ffd5b5050505050565b5f80546040517f93684bd4000000000000000000000000000000000000000000000000000000008152600481018490526001600160a01b03909116906393684bd490602401602060405180830381865afa1580156102c5573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906102e99190610306565b92915050565b5f602082840312156102ff575f5ffd5b5035919050565b5f60208284031215610316575f5ffd5b5051919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52603260045260245ffd5b602081525f82518060208401525f5b818110156103765760208186018101516040868401015201610359565b505f604082850101526040601f19601f8301168401019150509291505056fea264697066735822122066c29dc71df8ad05289409065eec526a937d2e634d6cc9678a0d609efaa79a7264736f6c634300081c0033","sourceMap":"103:1300:0:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1295:106;;;:::i;:::-;;;160:25:2;;;148:2;133:18;1295:106:0;;;;;;;269:495;;;:::i;:::-;;774:395;;;:::i;1179:106::-;;;;;;:::i;:::-;;:::i;1295:::-;1345:7;1371:6;;;;;;;;;-1:-1:-1;;;;;1371:6:0;-1:-1:-1;;;;;1371:21:0;;:23;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;1364:30;;1295:106;:::o;269:495::-;729:6;;:28;;-1:-1:-1;;;729:28:0;;772:2:2;729:28:0;;;754:21:2;811:1;791:18;;;784:29;849:3;829:18;;;822:31;-1:-1:-1;;;;;729:6:0;;;;:23;;870:18:2;;729:28:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;269:495::o;774:395::-;1016:13;;;1026:2;1016:13;;;;;;;;;996:17;;1016:13;;;;;;;;;;-1:-1:-1;;996:33:0;-1:-1:-1;1043:6:0;1039:68;1059:2;1055:1;:6;1039:68;;;1092:4;1082:14;;:4;1087:1;1082:7;;;;;;;;:::i;:::-;;;;:14;;;;;;;;;;-1:-1:-1;1063:3:0;;1039:68;;;-1:-1:-1;1125:6:0;;:37;;-1:-1:-1;;;1125:37:0;;-1:-1:-1;;;;;1125:6:0;;;;:23;;:37;;1156:4;;1125:37;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;816:353;774:395::o;1179:106::-;1233:7;1259:6;;:19;;;;;;;;160:25:2;;;-1:-1:-1;;;;;1259:6:0;;;;:15;;133:18:2;;1259:19:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;1252:26;1179:106;-1:-1:-1;;1179:106:0:o;196:180:2:-;255:6;308:2;296:9;287:7;283:23;279:32;276:52;;;324:1;321;314:12;276:52;-1:-1:-1;347:23:2;;196:180;-1:-1:-1;196:180:2:o;381:184::-;451:6;504:2;492:9;483:7;479:23;475:32;472:52;;;520:1;517;510:12;472:52;-1:-1:-1;543:16:2;;381:184;-1:-1:-1;381:184:2:o;1088:::-;1140:77;1137:1;1130:88;1237:4;1234:1;1227:15;1261:4;1258:1;1251:15;1277:527;1426:2;1415:9;1408:21;1389:4;1458:6;1452:13;1501:6;1496:2;1485:9;1481:18;1474:34;1526:1;1536:140;1550:6;1547:1;1544:13;1536:140;;;1661:2;1645:14;;;1641:23;;1635:30;1630:2;1611:17;;;1607:26;1600:66;1565:10;1536:140;;;1540:3;1725:1;1720:2;1711:6;1700:9;1696:22;1692:31;1685:42;1795:2;1788;1784:7;1779:2;1771:6;1767:15;1763:29;1752:9;1748:45;1744:54;1736:62;;;1277:527;;;;:::o","linkReferences":{}},"methodIdentifiers":{"exploit()":"63d9b770","exploitPrecendenceBug()":"7079f6f2","getCurrentCrate()":"06c53904","readCrate(uint256)":"a95ba751"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.28+commit.7893614a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_target\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"exploit\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"exploitPrecendenceBug\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getCurrentCrate\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"}],\"name\":\"readCrate\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/answers/ExploitMagicCarousel.sol\":\"ExploitMagicCarousel\"},\"evmVersion\":\"shanghai\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":1000},\"remappings\":[\":ds-test/=lib/openzeppelin-contracts-upgradeable/lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":openzeppelin-contracts-06/=lib/openzeppelin-contracts-06/contracts/\",\":openzeppelin-contracts-08/=lib/openzeppelin-contracts-08/contracts/\",\":openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/\",\":openzeppelin-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/\",\":openzeppelin/=lib/openzeppelin-contracts-upgradeable/contracts/\"]},\"sources\":{\"src/answers/ExploitMagicCarousel.sol\":{\"keccak256\":\"0x1017d8a017f0db4f4184da4758c72794640509831b746b43a9fcafd9b95074b8\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://1b218249c01abdef6822d2b2aeae51a34ba274f4e1e1c619fbe54f09d3bcd2b1\",\"dweb:/ipfs/QmX9CNtdhnwRmUpkCEngUsjGNTeeDM6zn7WL4V9Bx7WbWy\"]},\"src/levels/MagicAnimalCarousel.sol\":{\"keccak256\":\"0x58c28159c7ce6ec03a142bd0549658f6cf2a91d5b7d3091c5424f5fa08bdbf94\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://d16e11fb68a69fb4b983280cd627da0047e1b1df217e5b072df9fe6b3b11ce43\",\"dweb:/ipfs/QmdaWoSa9Scw9eKkNTig45MXPdX8Xc1Tq286xYeXPiVnZN\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.28+commit.7893614a"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"_target","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"exploit"},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"exploitPrecendenceBug"},{"inputs":[],"stateMutability":"view","type":"function","name":"getCurrentCrate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"id","type":"uint256"}],"stateMutability":"view","type":"function","name":"readCrate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["ds-test/=lib/openzeppelin-contracts-upgradeable/lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","openzeppelin-contracts-06/=lib/openzeppelin-contracts-06/contracts/","openzeppelin-contracts-08/=lib/openzeppelin-contracts-08/contracts/","openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/","openzeppelin-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/","openzeppelin/=lib/openzeppelin-contracts-upgradeable/contracts/"],"optimizer":{"enabled":true,"runs":1000},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/answers/ExploitMagicCarousel.sol":"ExploitMagicCarousel"},"evmVersion":"shanghai","libraries":{}},"sources":{"src/answers/ExploitMagicCarousel.sol":{"keccak256":"0x1017d8a017f0db4f4184da4758c72794640509831b746b43a9fcafd9b95074b8","urls":["bzz-raw://1b218249c01abdef6822d2b2aeae51a34ba274f4e1e1c619fbe54f09d3bcd2b1","dweb:/ipfs/QmX9CNtdhnwRmUpkCEngUsjGNTeeDM6zn7WL4V9Bx7WbWy"],"license":"MIT"},"src/levels/MagicAnimalCarousel.sol":{"keccak256":"0x58c28159c7ce6ec03a142bd0549658f6cf2a91d5b7d3091c5424f5fa08bdbf94","urls":["bzz-raw://d16e11fb68a69fb4b983280cd627da0047e1b1df217e5b072df9fe6b3b11ce43","dweb:/ipfs/QmdaWoSa9Scw9eKkNTig45MXPdX8Xc1Tq286xYeXPiVnZN"],"license":"MIT"}},"version":1},"id":0}